diff --git a/vendor/magento/module-catalog-url-rewrite/Model/Storage/DynamicStorage.php b/vendor/magento/module-catalog-url-rewrite/Model/Storage/DynamicStorage.php
index d9e9705ac03..9da95d4270b 100644
--- a/vendor/magento/module-catalog-url-rewrite/Model/Storage/DynamicStorage.php
+++ b/vendor/magento/module-catalog-url-rewrite/Model/Storage/DynamicStorage.php
@@ -179,13 +179,16 @@ class DynamicStorage extends BaseDbStorage
             unset($data[UrlRewrite::IS_AUTOGENERATED]);
             $categoryFromDb = $this->connection->fetchRow($this->prepareSelect($data));

+            if ($categoryFromDb === false) {
+                return null;
+            }
+
             if ($categoryFromDb[UrlRewrite::REDIRECT_TYPE]) {
                 $productFromDb[UrlRewrite::REDIRECT_TYPE] = OptionProvider::PERMANENT;
                 $categoryPath = str_replace($categorySuffix, '', $categoryFromDb[UrlRewrite::TARGET_PATH]);
             }

-            if ($categoryFromDb === false
-                || !$productResource->canBeShowInCategory(
+            if (!$productResource->canBeShowInCategory(
                     $productFromDb[UrlRewrite::ENTITY_ID],
                     $categoryFromDb[UrlRewrite::ENTITY_ID]
                 )
